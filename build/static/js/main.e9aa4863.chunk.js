(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{399:function(e,t,a){},408:function(e,t,a){e.exports=a(898)},414:function(e,t,a){},882:function(e,t,a){},894:function(e,t,a){},898:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(26),c=a.n(o),l=a(47),i=(a(413),a(414),a(16)),s=a(21),m=a(19),u=a(18),h=a(20),d=a(13),f=a(56),p=a(82),E=a(2),b=a(27),g=a.n(b),v=g.a.create({baseURL:"http://localhost:3001",withCredentials:!0}),k=function(e){return v.post("/authenticate",e).then(function(e){return e.data}).catch(function(e){return e})},y=function(e){return v.post("/register",e).then(function(e){return e.data})},C=E.Schema.Types.StringType,I=E.Schema.Model({name:C().isRequired("This field is required."),email:C().isEmail("Please enter a valid email address.").isRequired("This field is required."),password:C().isRequired("This field is required."),verifyPassword:C().addRule(function(e,t){return e===t.password},"The two passwords do not match").isRequired("This field is required.")}),j=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.message,n=e.label,o=e.accepter,c=Object(f.a)(e,["name","message","label","accepter"]);return r.a.createElement(E.FormGroup,null,r.a.createElement(E.ControlLabel,null,n," "),r.a.createElement(E.FormControl,Object.assign({name:t,accepter:o},c)),r.a.createElement(E.HelpBlock,null,a))}}]),t}(r.a.PureComponent),O=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={formValue:{name:"",email:"",password:"",verifyPassword:""},formError:{},toLogin:!1},a.handleSubmit=a.handleSubmit.bind(Object(d.a)(Object(d.a)(a))),a.handleCheckEmail=a.handleCheckEmail.bind(Object(d.a)(Object(d.a)(a))),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"handleSubmit",value:function(){var e=this,t=this.state.formValue;this.form.check()?y(t).then(function(t){return e.setState({toLogin:!0})},function(e){return console.error(e)}):console.error("Form Error")}},{key:"handleCheckEmail",value:function(){this.form.checkForField("email",function(e){})}},{key:"render",value:function(){var e=this,t=this.state,a=t.formValue;return t.toLogin?r.a.createElement(p.a,{to:"/login"}):r.a.createElement("div",{className:"registerPage"},r.a.createElement("div",null),r.a.createElement("div",{className:"registerForm"},r.a.createElement(E.FlexboxGrid,{justify:"center"},r.a.createElement(E.FlexboxGrid.Item,{colspan:20},r.a.createElement("h1",null,"Register"),r.a.createElement(E.Panel,{bordered:!0},r.a.createElement(E.Form,{ref:function(t){return e.form=t},onChange:function(t){e.setState({formValue:t})},onCheck:function(t){e.setState({formError:t})},formValue:a,model:I},r.a.createElement(j,{name:"name",label:"Name"}),r.a.createElement(j,{name:"email",label:"Email"}),r.a.createElement(j,{name:"password",label:"Password",type:"password"}),r.a.createElement(j,{name:"verifyPassword",label:"Verify password",type:"password"}),r.a.createElement(E.ButtonToolbar,null,r.a.createElement(E.Button,{appearance:"primary",onClick:this.handleSubmit,block:!0}," Submit ")))),r.a.createElement("h6",null,"Have you an account? ",r.a.createElement(l.b,{to:"/login"},"Login"))))))}}]),t}(n.Component),S=g.a.create({baseURL:"http://localhost:3001",withCredentials:!0}),R={setuphome:function(e){return S.put("/user/".concat(e.id,"/setuphome"),e).then(function(e){return e.data}).catch(function(e){return e})},details:function(e){return S.get("user/".concat(e)).then(function(e){return e.data})},edit:function(e,t){var a=new FormData;return Object.keys(e).forEach(function(t){a.append(t,e[t])}),S.put("/user/".concat(t),a).then(function(e){return console.log(e)}).catch(function(e){return e})},remove:function(e){return S.put("user/".concat(e,"/removehome"),{home:null}).then(function(e){return console.log(e)}).catch(function(e){return e})},logout:function(){return S.post("/logout").then(function(e){return console.log(e)}).catch(function(e){return e})}},T="current-user",w=r.a.createContext(),F=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={user:JSON.parse(localStorage.getItem(T)||"{}")},a.handleUserChange=function(e){a.setState({user:e}),e&&e.email?localStorage.setItem(T,JSON.stringify(e)):localStorage.removeItem(T)},a.isAuthenticated=function(){return a.state.user&&a.state.user.email},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(w.Provider,{value:{user:this.state.user,onUserChanged:this.handleUserChange,isAuthenticated:this.isAuthenticated}},this.props.children)}}]),t}(n.Component),N=function(e){return function(t){return r.a.createElement(w.Consumer,null,function(a){return r.a.createElement(e,Object.assign({},t,a))})}},x=E.Schema.Types.StringType,B=E.Schema.Model({email:x().isEmail("Please enter a valid email address.").isRequired("This field is required."),password:x().isRequired("This field is required.")}),D=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.message,n=e.label,o=e.accepter,c=Object(f.a)(e,["name","message","label","accepter"]);return r.a.createElement(E.FormGroup,null,r.a.createElement(E.ControlLabel,null,n," "),r.a.createElement(E.FormControl,Object.assign({name:t,accepter:o},c)),r.a.createElement(E.HelpBlock,null,a))}}]),t}(r.a.PureComponent),M=N(function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={formValue:{email:"",password:""},formError:{},toMain:!1},a.handleSubmit=a.handleSubmit.bind(Object(d.a)(Object(d.a)(a))),a.handleCheckEmail=a.handleCheckEmail.bind(Object(d.a)(Object(d.a)(a))),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"handleSubmit",value:function(){var e=this,t=this.state.formValue;this.form.check()?k(t).then(function(t){return e.setState({toHasHome:!0},function(){e.props.onUserChanged(t)})},function(e){return console.error(e)}):console.error("Form Error")}},{key:"handleCheckEmail",value:function(){this.form.checkForField("email",function(e){})}},{key:"render",value:function(){var e=this,t=this.state,a=t.formValue;return t.toHasHome?r.a.createElement(p.a,{to:"/".concat(this.props.user.id,"/hashome")}):r.a.createElement("div",{className:"loginPage"},r.a.createElement("div",null),r.a.createElement("div",{className:"loginForm"},r.a.createElement(E.FlexboxGrid,{justify:"center"},r.a.createElement(E.FlexboxGrid.Item,{colspan:20},r.a.createElement("h1",null,"Login"),r.a.createElement(E.Panel,{bordered:!0},r.a.createElement(E.Form,{ref:function(t){return e.form=t},onChange:function(t){e.setState({formValue:t})},onCheck:function(t){e.setState({formError:t})},formValue:a,model:B},r.a.createElement(D,{name:"email",label:"Email"}),r.a.createElement(D,{name:"password",label:"Password",type:"password"}),r.a.createElement(E.ButtonToolbar,null,r.a.createElement(E.Button,{color:"violet",appearance:"primary",onClick:this.handleSubmit,block:!0}," Login ")))),r.a.createElement("h6",null,"No account yet? ",r.a.createElement(l.b,{to:"/register"},"Register"))))))}}]),t}(n.Component)),A=g.a.create({baseURL:"http://localhost:3001",withCredentials:!0}),U={authenticate:function(e){return A.post("/",e).then(function(e){return e.data}).catch(function(e){return e})},register:function(e){return A.post("home/register",e).then(function(e){return e.data}).catch(function(e){return e})},logout:function(){return A.post("/logout").then(function(e){return e.data}).catch(function(e){return e})},details:function(e){return A.get("home/".concat(e)).then(function(e){return e.data})},edit:function(e,t){var a=new FormData;return Object.keys(e).forEach(function(t){a.append(t,e[t])}),A.put("/home/".concat(t),a).then(function(e){return console.log(e)}).catch(function(e){return e})}},P=E.Schema.Types.StringType,H=E.Schema.Model({name:P().isRequired("This field is required."),email:P().isEmail("Please enter a valid email address.").isRequired("This field is required.")}),L=E.Schema.Model({homeCode:P().isRequired("This field is required.")}),G=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.message,n=e.label,o=e.accepter,c=Object(f.a)(e,["name","message","label","accepter"]);return r.a.createElement(E.FormGroup,null,r.a.createElement(E.ControlLabel,null,n," "),r.a.createElement(E.FormControl,Object.assign({name:t,accepter:o},c)),r.a.createElement(E.HelpBlock,null,a))}}]),t}(r.a.PureComponent),q=N(function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={formValue:{name:"",email:a.props.user.email},formCode:{id:a.props.user.id,homeCode:""},formError:{},formCodeError:{},toMain:!1,hasCode:!1},a.handleSubmit=a.handleSubmit.bind(Object(d.a)(Object(d.a)(a))),a.handleSubmitHome=a.handleSubmitHome.bind(Object(d.a)(Object(d.a)(a))),a.handleCheckEmail=a.handleCheckEmail.bind(Object(d.a)(Object(d.a)(a))),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"handleSubmitHome",value:function(){var e=this,t=this.state.formCode;this.form.check()?R.setuphome(t).then(function(){return e.setState({toMain:!0})},function(e){return console.error(e)}):console.error("Form Error")}},{key:"handleSubmit",value:function(){var e=this,t=this.state.formValue;this.form.check()?U.register(t).then(function(){return e.setState({toMain:!0})},function(e){return console.error(e)}):console.error("Form Error")}},{key:"handleCheckEmail",value:function(){this.form.checkForField("email",function(e){})}},{key:"render",value:function(){var e=this;console.log(this.state);var t=this.state,a=t.formValue,n=t.toMain,o=t.formCode;return this.props.user.home?r.a.createElement(p.a,{to:"/"}):n?r.a.createElement(p.a,{to:"/"}):r.a.createElement("div",{className:"hasHomePage"},r.a.createElement("div",null),r.a.createElement("div",{className:"hasHomeForm"},r.a.createElement(E.FlexboxGrid,{justify:"center"},r.a.createElement(E.FlexboxGrid.Item,{colspan:20},r.a.createElement(E.Panel,{bordered:!0},r.a.createElement("h1",null,"have you a home Code? ",r.a.createElement(E.Toggle,{onChange:function(t){return e.setState({hasCode:t})},size:"md",checkedChildren:"Yes",unCheckedChildren:"No"})),!0===this.state.hasCode&&r.a.createElement(E.Form,{ref:function(t){return e.form=t},onChange:function(t){e.setState({formCode:t})},onCheck:function(t){e.setState({formCodeError:t})},formValue:o,model:L},r.a.createElement(G,{name:"homeCode",label:"HomeCode"}),r.a.createElement(E.ButtonToolbar,null,r.a.createElement(E.Button,{color:"blue",appearance:"primary",onClick:this.handleSubmitHome,block:!0}," Setup Home ")))),!0===!this.state.hasCode&&r.a.createElement(E.Panel,{className:"paddingHome",bordered:!0},r.a.createElement("h1",null,"Create a new home"),r.a.createElement(E.Form,{ref:function(t){return e.form=t},onChange:function(t){e.setState({formValue:t})},onCheck:function(t){e.setState({formError:t})},formValue:a,model:H},r.a.createElement(G,{name:"name",label:"Name"}),r.a.createElement(G,{name:"email",label:"Email"}),r.a.createElement(E.ButtonToolbar,null,r.a.createElement(E.Button,{color:"cyan",appearance:"primary",onClick:this.handleSubmit,block:!0}," Create a home "))))))))}}]),t}(n.Component)),Q=a(31),J=a(57),V=N(function(e){var t=e.user;return r.a.createElement("div",{className:"navBar"},r.a.createElement(E.Nav,{appearance:"subtle"},r.a.createElement(E.FlexboxGrid,{justify:"space-around"},r.a.createElement(E.FlexboxGrid.Item,null,r.a.createElement(E.Nav.Item,{href:"/"},r.a.createElement(E.Icon,{className:"navHomeIcon",size:"2x",icon:"square-o"}))),r.a.createElement(E.FlexboxGrid.Item,null,r.a.createElement(E.Nav.Item,{href:"/".concat(t.id,"/details")},r.a.createElement(E.Icon,{className:"navUserIcon",size:"2x",icon:"circle-thin"}))),r.a.createElement(E.FlexboxGrid.Item,null,r.a.createElement(E.Nav.Item,{href:"/".concat(t.home,"/summary")},r.a.createElement(E.Icon,{className:"navListIcon",size:"2x",icon:"dashboard"}))),r.a.createElement(E.FlexboxGrid.Item,null,r.a.createElement(E.Nav.Item,{href:"/config"},r.a.createElement(E.Icon,{className:"navGearIcon",size:"2x",icon:"gear"}))))))}),W=a(39),Y=(a(399),function(e){var t=r.a.createElement(E.Popover,{className:"roomPopover",title:"State"},r.a.createElement(E.IconButton,{onClick:function(){e.cleanRoom(e._id,"dirty")},size:"lg",icon:r.a.createElement(E.Icon,{icon:"thumbs-o-down"}),color:"red",circle:!0}),r.a.createElement(E.IconButton,{onClick:function(){e.cleanRoom(e._id,"medium")},size:"lg",icon:r.a.createElement(E.Icon,{icon:"hand-stop-o"}),color:"yellow",circle:!0}),r.a.createElement(E.IconButton,{onClick:function(){e.cleanRoom(e._id,"clean")},size:"lg",icon:r.a.createElement(E.Icon,{icon:"thumbs-o-up"}),color:"green",circle:!0}));return r.a.createElement(E.Whisper,{placement:"auto",trigger:"click",speaker:t},r.a.createElement("div",{className:"roomDiv"},r.a.createElement("div",{className:"box ".concat(e.state)},r.a.createElement(E.Icon,{size:"2x",icon:function(e){switch(e){case"Cocina":return"cutlery";case"Ba\xf1o":return"s15";case"Sal\xf3n":return"tv";case"Dormitorio":return"bed";case"Estudio":return"book";default:return"cube"}}(e.name)})),r.a.createElement("p",null,e.name)))}),Z=a(100),z=a(51),K=a(159),X=(a(882),function(e){var t=function(){u.event&&m>100&&(s[0]<0&&e.completeTask(e.id,e.type),s[0]>0&&e.deleteTask(e.id,e.type))},a=Object(K.a)(),n=Object(Z.a)(a,2),o=n[0],c=n[1],l=c.delta,i=c.down,s=c.direction,m=c.distance,u=(c.first,Object(f.a)(c,["delta","down","direction","distance","first"])),h=Object(z.c)({x:i?l[0]:0,bg:"linear-gradient(120deg, ".concat(l[0]<0?"#f9f586 0%, #96fbc4":"#f5576c 0%, #f093fb"," 100%)"),size:i?1.1:1,immediate:function(e){return i&&"x"===e}}),d=h.x,p=h.bg,E=h.size,b=d.interpolate({map:Math.abs,range:[50,300],output:["scale(0.5)","scale(1)"],extrapolate:"clamp"}),g=d.interpolate({map:Math.abs,range:[50,300],output:["scale(0.5)","scale(1)"],extrapolate:"clamp"});return r.a.createElement(z.a.div,Object.assign({},o(),{className:"item",style:{background:p},onTouchEnd:t,onMouseUp:t}),r.a.createElement(z.a.div,{className:"av",style:{transform:b,justifySelf:"end"}}),r.a.createElement(z.a.div,{className:"avx",style:{transform:g,justifySelf:"start"}}),r.a.createElement(z.a.div,{onDragCapture:t,className:"fg",style:{transform:Object(z.b)([d,E],function(e,t){return"translate3d(".concat(e,"px,0,0) scale(").concat(t,")")})}},e.title))}),_=g.a.create({baseURL:"http://localhost:3001",withCredentials:!0}),$={create:function(e){return _.post("item/create",e).then(function(e){return e.data}).catch(function(e){return e})},edit:function(e){var t={id:e,state:"done"};return _.put("item/".concat(e),t).then(function(e){return e.data}).catch(function(e){return e})},remove:function(e){return _.delete("item/".concat(e)).then(function(e){return e.data}).catch(function(e){return e})}},ee=g.a.create({baseURL:"http://localhost:3001",withCredentials:!0}),te={create:function(e){return ee.post("task/create",e).then(function(e){return e.data}).catch(function(e){return e})},edit:function(e){var t={id:e,state:"done"};return ee.put("task/".concat(e),t).then(function(e){return e.data}).catch(function(e){return e})},remove:function(e){return ee.delete("task/".concat(e)).then(function(e){return e.data}).catch(function(e){return e})}},ae=g.a.create({baseURL:"http://localhost:3001",withCredentials:!0}),ne={create:function(e){return ae.post("room/create",e).then(function(e){return e.data}).catch(function(e){return e})},edit:function(e,t){var a={id:e,state:t};return ae.put("room/".concat(e),a).then(function(e){return e.data}).catch(function(e){return e})},remove:function(e){return ae.delete("room/".concat(e)).then(function(e){return e.data}).catch(function(e){return e})}},re=g.a.create({baseURL:"http://localhost:3001",withCredentials:!0}),oe={create:function(e){return re.post("itemlog/create",e).then(function(e){return e.data}).catch(function(e){return e})}},ce=function(e){var t=r.a.createElement(E.Popover,{title:e.name.split(" ")[0]},r.a.createElement(E.ButtonToolbar,null,r.a.createElement(E.IconButton,{icon:r.a.createElement(E.Icon,{icon:"hand-grab-o"}),color:"red",circle:!0}),r.a.createElement(E.IconButton,{href:"tel:".concat(e.phone),icon:r.a.createElement(E.Icon,{icon:"phone"}),color:"green",circle:!0})));return r.a.createElement(E.Whisper,{placement:"top",trigger:"click",speaker:t},r.a.createElement("img",{className:"boxImg",src:e.attachment||"data:image/png;base64,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"}))},le=function(e){return r.a.createElement("div",null,r.a.createElement("h3",null,e.title),r.a.createElement("p",null,e.description))},ie=a(158),se=function(e){var t=r.a.createElement(E.Tooltip,null,r.a.createElement("h3",{style:{margin:4}},e.name),r.a.createElement("p",{style:{marginBottom:4}},"at ",ie(e.moment).format("hh:mm")));return r.a.createElement(E.Whisper,{placement:"top",trigger:"click",speaker:t},r.a.createElement("div",{className:"date"},r.a.createElement("h2",null,ie(e.moment).format("D")),r.a.createElement("p",null,ie(e.moment).format("MMMM"))))},me=a(158),ue=N(function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={home:{attachment:"",homeCode:""},name:"",users:[],items:[],tasks:[],rooms:[],moments:[],toLogin:!1},a.getDetails=function(){U.details(a.props.user.home).then(function(e){a.setState(Object(J.a)({},a.state,e))},function(e){a.setState({toLogin:!0})})},a.componentDidMount=function(){a.getDetails()},a.completeTask=function(e,t){"task"===t&&te.edit(e).then(function(t){var n=a.state.tasks.filter(function(t){return t._id!==e});a.setState({tasks:n},function(){var e={type:"Task",name:t.name,idTask:t._id,state:t.state,home:t.home,user:a.props.user.id,username:a.props.user.name,userImage:a.props.user.attachment};oe.create(e).then(console.log("log created!"))})}),"item"===t&&$.edit(e).then(function(t){var n=a.state.items.filter(function(t){return t._id!==e});a.setState({items:n},function(){var e={type:"Task",name:t.name,idTask:t._id,state:t.state,home:t.home,user:a.props.user.id,username:a.props.user.name,userImage:a.props.user.attachment};oe.create(e).then(console.log("log created!"))})})},a.cleanRoom=function(e,t){ne.edit(e,t).then(function(e){var t=Object(Q.a)(a.state.rooms);t.forEach(function(a,n){e._id===a._id&&(t[n]=e)}),a.setState({rooms:t},function(){var t={type:"Room",name:e.name,idTask:e._id,state:e.state,home:e.home,user:a.props.user.id,username:a.props.user.name,userImage:a.props.user.attachment};oe.create(t).then(console.log("log created!"))})})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"deleteTask",value:function(e,t){var a=this;"task"===t&&te.remove(e).then(function(){var t=a.state.tasks.filter(function(t){return t._id!==e});a.setState({tasks:t})}),"item"===t&&$.remove(e).then(function(){var t=a.state.items.filter(function(t){return t._id!==e});a.setState({items:t})})}},{key:"render",value:function(){var e=this;return this.state.toLogin?r.a.createElement(p.a,{to:"/login"}):r.a.createElement("div",null,r.a.createElement("div",{className:"main"},r.a.createElement(W.Spring,{from:{opacity:0},to:{opacity:1}},function(t){return r.a.createElement("h1",{style:t},e.state.name)}),r.a.createElement("div",{className:"scrolling-wrapper usersDiv"},this.state.users.length&&this.state.users.map(function(e){return r.a.createElement(ce,Object.assign({},e,{key:e.name}))})),r.a.createElement("img",{className:"homeImg",src:this.state.attachment}),r.a.createElement("div",{className:"infoPanel"},r.a.createElement(E.Panel,{header:r.a.createElement("h3",null,"Info"),bordered:!0,collapsible:!0},this.state.info&&this.state.info.map(function(e){return r.a.createElement(le,Object.assign({},e,{key:e._id}))}))),r.a.createElement("div",{className:"row flex-row scrolling-wrapper"},this.state.rooms.length&&this.state.rooms.map(function(t){return r.a.createElement(Y,Object.assign({},t,{key:t._id,cleanRoom:e.cleanRoom}))})),r.a.createElement("div",{className:"shoppingList"},r.a.createElement(W.Spring,{from:{opacity:0},to:{opacity:1}},function(e){return r.a.createElement("h2",{style:e},"Shopping list")}),this.state.items.length&&this.state.items.filter(function(e){return"done"!==e.state}).map(function(t){return r.a.createElement(X,{key:t._id,type:"item",id:t._id,completeTask:e.completeTask,deleteTask:e.deleteTask,title:t.name})})),r.a.createElement("div",{className:"shoppingList"},r.a.createElement(W.Spring,{from:{opacity:0},to:{opacity:1}},function(e){return r.a.createElement("h2",{style:e},"To do list")}),this.state.tasks.length&&this.state.tasks.filter(function(e){return"done"!==e.state}).map(function(t){return r.a.createElement(X,{key:t._id,type:"task",id:t._id,completeTask:e.completeTask,deleteTask:e.deleteTask,title:t.name})})),r.a.createElement("div",{className:"shoppingList"},r.a.createElement(W.Spring,{from:{opacity:0},to:{opacity:1}},function(e){return r.a.createElement("h2",{style:e},"Dates")}),r.a.createElement("div",{className:"datesList"},this.state.moments.length&&this.state.moments.filter(function(e){return me(e.moment).isSameOrAfter(Date.now())}).map(function(e){return r.a.createElement(se,Object.assign({key:e._id},e))}).slice(0,8)))),r.a.createElement(V,{style:{zIndex:10}}))}}]),t}(n.Component)),he=a(33);a(407),a(404),a(894);var de=g.a.create({baseURL:"http://localhost:3001",withCredentials:!0}),fe={create:function(e){return de.post("moment/create",e).then(function(e){return e.data}).catch(function(e){return e})},edit:function(e){return de.put("moment/".concat(e),e).then(function(e){return e.data}).catch(function(e){return e})}},pe=a(67),Ee=N(function(e){function t(e){var a,n;return Object(i.a)(this,t),(n=Object(m.a)(this,Object(u.a)(t).call(this,e))).getUserDetails=function(){R.details(n.props.user.id).then(function(e){n.setState(Object(J.a)({},n.state,e))},function(e){n.setState({toLogin:!0})})},n.getLog=function(){U.details(n.props.user.home).then(function(e){var t=e.log.filter(function(e){return e.user==n.props.user.id&&"done"===e.state&&"Item"===e.type}),a=e.log.filter(function(e){return e.user!==n.props.user.id&&"done"===e.state&&"Item"===e.type}),r=e.log.filter(function(e){return e.user==n.props.user.id&&"done"===e.state&&"Task"===e.type}),o=e.log.filter(function(e){return e.user!==n.props.user.id&&"done"===e.state&&"Task"===e.type}),c=e.log.filter(function(e){return e.user==n.props.user.id&&"clean"===e.state&&"Room"===e.type}),l=e.log.filter(function(e){return e.user!==n.props.user.id&&"clean"===e.state&&"Room"===e.type});n.setState({itemResume:[t.length,a.length],taskResume:[r.length,o.length],roomResume:[c.length,l.length]},function(){return console.log(n.state.itemResume,n.state.taskResume,n.state.roomResume)})})},n.componentDidMount=function(){n.getUserDetails(),n.getLog()},n.handleChangeTask=function(e){n.setState({formTask:{name:e}})},n.handleSubmitTask=function(e){e.preventDefault(),te.create({name:n.state.formTask.name,user:n.props.user.id,home:n.props.user.home}).then(function(e){var t={type:"Task",name:e.name,idTask:e._id,state:"created",home:e.home,user:n.props.user.id,username:n.props.user.name,userImage:n.props.user.attachment};oe.create(t).then(console.log("log created!")),n.setState({formTask:{name:""},tasks:[].concat(Object(Q.a)(n.state.tasks),[e])})},function(e){return console.error(e)})},n.handleChangeItem=function(e){n.setState({formItem:{name:e}})},n.handleSubmitItem=function(e){e.preventDefault(),$.create({name:n.state.formItem.name,user:n.props.user.id,home:n.props.user.home}).then(function(e){var t={type:"Item",name:e.name,idTask:e._id,state:"created",home:e.home,user:n.props.user.id,username:n.props.user.name,userImage:n.props.user.attachment};oe.create(t).then(console.log("log created!")),n.setState({formItem:{name:""},items:[].concat(Object(Q.a)(n.state.items),[e])})},function(e){return console.error(e)})},n.handleChangeMomentName=function(e){n.setState({formMoment:{name:e}})},n.handleChangeMoment=function(e){n.setState({formMoment:Object(J.a)({},n.state.formMoment,{moment:e})})},n.handleSubmitMoment=function(e){e.preventDefault(),fe.create({name:n.state.formMoment.name,moment:n.state.formMoment.moment,user:n.props.user.id,home:n.props.user.home}).then(function(e){n.setState({formMoment:{name:""},moments:[].concat(Object(Q.a)(n.state.moments),[e])},function(){return n.setState({formMoment:{name:"",moment:""}},function(){var t={type:"Moment",name:e.name,idTask:e._id,state:"created",home:e.home,user:n.props.user.id,username:n.props.user.name,userImage:n.props.user.attachment};oe.create(t).then(console.log("log created!"))})})},function(e){E.Alert.warning(e),console.error(e)})},n.completeTask=function(e,t){"task"===t&&te.edit(e).then(function(t){var a={type:"Task",name:t.name,idTask:t._id,state:t.state,home:t.home,user:n.props.user.id,username:n.props.user.name,userImage:n.props.user.attachment};oe.create(a).then(console.log("log created!"));var r=n.state.tasks.filter(function(t){return t._id!==e});n.setState({tasks:r})}),"item"===t&&$.edit(e).then(function(t){var a={type:"Item",name:t.name,idTask:t._id,state:t.state,home:t.home,user:n.props.user.id,username:n.props.user.name,userImage:n.props.user.attachment};oe.create(a).then(console.log("log created!"));var r=n.state.items.filter(function(t){return t._id!==e});n.setState({items:r})})},n.deleteTask=function(e,t){"task"===t&&te.remove(e).then(function(){var t=n.state.tasks.filter(function(t){return t._id!==e});n.setState({tasks:t})}),"item"===t&&$.remove(e).then(function(){var t=n.state.items.filter(function(t){return t._id!==e});n.setState({items:t})})},n.state=(a={name:"",tasks:0,roomsCleaned:0,attachment:"",formItem:{name:""},formTask:{name:""},formMoment:{name:"",moment:""},items:[]},Object(he.a)(a,"tasks",[]),Object(he.a)(a,"moments",[]),Object(he.a)(a,"log",[]),Object(he.a)(a,"itemResume",[]),Object(he.a)(a,"taskResume",[]),Object(he.a)(a,"roomResume",[]),Object(he.a)(a,"toLogin",!1),a),n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;if(this.state.toLogin)return r.a.createElement(p.a,{to:"/login"});var t=this.state,a=t.formItem,n=t.formTask,o=t.formMoment,c={labels:["you","others"],datasets:[{data:t.itemResume,backgroundColor:["#36A2EB","#FF6384"],hoverBackgroundColor:["#36A2EB","#FF6384"]}]},l={labels:["you","others"],datasets:[{data:t.taskResume,backgroundColor:["#36A2EB","#FF6384"],hoverBackgroundColor:["#36A2EB","#FF6384"]}]},i={labels:["you","others"],datasets:[{data:t.roomResume,backgroundColor:["#36A2EB","#FF6384"],hoverBackgroundColor:["#36A2EB","#FF6384"]}]};return r.a.createElement("div",null,r.a.createElement("div",{className:"user"},r.a.createElement(W.Spring,{from:{opacity:0},to:{opacity:1}},function(t){return r.a.createElement("h1",{style:t},e.state.name.split(" ")[0])}),r.a.createElement("img",{src:this.state.attachment}),r.a.createElement("div",{className:"SummaryWrapper"},r.a.createElement(E.FlexboxGrid,{justify:"space-around"},r.a.createElement(E.FlexboxGrid.Item,{colspan:6},r.a.createElement(pe.a,{data:c,legend:{display:!1},width:200,height:200}),r.a.createElement("h2",null,"Items"),r.a.createElement("h3",null,c[0])),r.a.createElement(E.FlexboxGrid.Item,{colspan:6},r.a.createElement(pe.a,{data:l,legend:{display:!1},width:200,height:200}),r.a.createElement("h2",null,"Tasks"),r.a.createElement("h3",null,l[0])),r.a.createElement(E.FlexboxGrid.Item,{colspan:6},r.a.createElement(pe.a,{data:i,legend:{display:!1},width:200,height:200}),r.a.createElement("h2",null,"Rooms"),r.a.createElement("h3",null,i[0])))),r.a.createElement("div",{className:"shoppingList"},r.a.createElement(W.Spring,{from:{opacity:0},to:{opacity:1}},function(e){return r.a.createElement("h2",{style:e},"Shopping list")}),r.a.createElement("form",null,r.a.createElement(E.InputGroup,{className:"shoppingListInput"},r.a.createElement(E.Input,{placeholder:"Elemento a comprar",type:"text",value:a.name,onChange:this.handleChangeItem}),r.a.createElement(E.InputGroup.Button,{onClick:this.handleSubmitItem},r.a.createElement(E.Icon,{size:"lg",icon:"plus-square-o"})))),this.state.items&&this.state.items.filter(function(e){return"done"!==e.state}).map(function(t){return r.a.createElement(X,{key:t._id,type:"item",id:t._id,completeTask:e.completeTask,deleteTask:e.deleteTask,title:t.name})})),r.a.createElement("div",{className:"shoppingList"},r.a.createElement(W.Spring,{from:{opacity:0},to:{opacity:1}},function(e){return r.a.createElement("h2",{style:e},"To do list")}),r.a.createElement("form",null,r.a.createElement(E.InputGroup,{className:"shoppingListInput"},r.a.createElement(E.Input,{placeholder:"Nombre de la tarea",type:"text",value:n.name,onChange:this.handleChangeTask}),r.a.createElement(E.InputGroup.Button,{onClick:this.handleSubmitTask},r.a.createElement(E.Icon,{size:"lg",icon:"plus-square-o"})))),this.state.tasks&&this.state.tasks.filter(function(e){return"done"!==e.state}).map(function(t){return r.a.createElement(X,{key:t._id,type:"task",id:t._id,completeTask:e.completeTask,deleteTask:e.deleteTask,title:t.name})})),r.a.createElement("div",{className:"shoppingList"},r.a.createElement(W.Spring,{from:{opacity:0},to:{opacity:1}},function(e){return r.a.createElement("h2",{style:e},"New date")}),r.a.createElement("form",null,r.a.createElement(E.InputGroup,{className:"shoppingListInput"},r.a.createElement(E.Input,{placeholder:"Nombre del evento",type:"text",value:o.name,onChange:this.handleChangeMomentName}),r.a.createElement(E.InputGroup.Button,{onClick:this.handleSubmitMoment},r.a.createElement(E.Icon,{size:"lg",icon:"plus-square-o"}))),r.a.createElement(E.DatePicker,{block:!0,className:"DatePicker",format:"YYYY-MM-DD HH:mm:ss",placement:"auto",value:o.moment,onChange:this.handleChangeMoment,placeholder:"Elige una fecha",ranges:[{label:"Tomorrow",value:(new Date).setDate((new Date).getDate()+1)},{label:"Next Week",value:(new Date).setDate((new Date).getDate()+7)}]})))),r.a.createElement(V,{style:{zIndex:10}}))}}]),t}(n.Component)),be=a(158),ge=N(function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={log:[],users:[],itemResume:[],taskResume:[],roomResume:[],toLogin:!1},a.componentDidMount=function(){a.getHomeDetails(),a.getLog()},a.getHomeDetails=function(){U.details(a.props.user.home).then(function(e){a.setState(Object(J.a)({},e))},function(e){a.setState({toLogin:!0})})},a.getLog=function(){U.details(a.props.user.home).then(function(e){var t=[],n=[],r=[];a.state.users.forEach(function(a){var o=e.log.filter(function(e){return e.user==a.id&&"done"===e.state&&"Item"===e.type}).length;t.push(o);var c=e.log.filter(function(e){return e.user==a.id&&"done"===e.state&&"Task"===e.type}).length;n.push(c);var l=e.log.filter(function(e){return e.user==a.id&&"clean"===e.state&&"Room"===e.type}).length;r.push(l)}),a.setState({itemResume:t,taskResume:n,roomResume:r})})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){if(this.state.toLogin)return r.a.createElement(p.a,{to:"/login"});var e=this.state,t=e.itemResume,a=e.taskResume,n=e.roomResume,o=e.users.map(function(e){return e.name.split(" ")[0]}),c={labels:o,datasets:[{data:t,backgroundColor:["#36A2EB","#FF6384","#36A2EB","#4ac0c0","#fece56"],hoverBackgroundColor:["#36A2EB","#FF6384","#36A2EB","#4ac0c0","#fece56"]}]},l={labels:o,datasets:[{data:a,backgroundColor:["#36A2EB","#FF6384","#36A2EB","#4ac0c0","#fece56"],hoverBackgroundColor:["#36A2EB","#FF6384","#36A2EB","#4ac0c0","#fece56"]}]},i={labels:o,datasets:[{data:n,backgroundColor:["#36A2EB","#FF6384","#36A2EB","#4ac0c0","#fece56"],hoverBackgroundColor:["#36A2EB","#FF6384","#36A2EB","#4ac0c0","#fece56"]}]};return r.a.createElement("div",null,r.a.createElement("div",{className:"summary"},r.a.createElement(W.Spring,{from:{opacity:0},to:{opacity:1}},function(e){return r.a.createElement("h1",{style:e},"Summary")}),r.a.createElement("div",{className:"SummaryWrapper"},r.a.createElement(E.FlexboxGrid,{justify:"space-around"},r.a.createElement(E.FlexboxGrid.Item,{colspan:6},this.state.itemResume&&this.state.itemResume.length>0&&r.a.createElement(pe.a,{data:c,legend:{display:!1},width:200,height:200}),r.a.createElement("h2",null,"Items")),r.a.createElement(E.FlexboxGrid.Item,{colspan:6},this.state.taskResume.length&&r.a.createElement(pe.a,{data:l,legend:{display:!1},width:200,height:200}),r.a.createElement("h2",null,"Tasks")),r.a.createElement(E.FlexboxGrid.Item,{colspan:6},this.state.roomResume.length&&r.a.createElement(pe.a,{data:i,legend:{display:!1},width:200,height:200}),r.a.createElement("h2",null,"Rooms")))),r.a.createElement("div",{className:"timeline"},r.a.createElement(E.Timeline,null,this.state.log&&this.state.log.map(function(e){return r.a.createElement(E.Timeline.Item,{className:"logItem",key:e._id,dot:r.a.createElement("img",{className:"circleUser",src:e.userImage})},r.a.createElement("h3",null,e.name," ",e.state),r.a.createElement("p",null,e.type," by ",e.username," at ",be(e.createdAt).format("D MMMM k:m")))}).reverse().slice(0,20)))),r.a.createElement(V,null))}}]),t}(n.Component)),ve=g.a.create({baseURL:"http://localhost:3001",withCredentials:!0}),ke=function(e){return ve.post("infoitem/create",e).then(function(e){return e.data}).catch(function(e){return e})},ye=function(e){return ve.delete("infoitem/".concat(e)).then(function(e){return e.data}).catch(function(e){return e})},Ce=E.Schema.Types.StringType,Ie=E.Schema.Model({name:Ce().isRequired("This field is required."),password:Ce().isRequired("This field is required.").minLength(6,"The field cannot be less than 6 characters"),verifyPassword:Ce().addRule(function(e,t){return e===t.password},"The two passwords do not match").isRequired("This field is required.")}),je=E.Schema.Model({name:Ce().isRequired("This field is required.")}),Oe=E.Schema.Model({name:Ce().isRequired("This field is required.")}),Se=E.Schema.Model({title:Ce().isRequired("This field is required.")}),Re=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.message,n=e.label,o=e.accepter,c=Object(f.a)(e,["name","message","label","accepter"]);return r.a.createElement(E.FormGroup,null,r.a.createElement(E.ControlLabel,null,n," "),r.a.createElement(E.FormControl,Object.assign({name:t,accepter:o},c)),r.a.createElement(E.HelpBlock,null,a))}}]),t}(r.a.PureComponent),Te=N(function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).getDetails=function(){U.details(a.props.user.home).then(function(e){a.setState({formHome:{name:e.name,attachment:e.attachment,homeCode:e.homeCode},rooms:e.rooms,info:e.info,users:e.users})},function(e){a.setState({toLogin:!0})})},a.componentDidMount=function(){a.getDetails(),console.log(Object(d.a)(Object(d.a)(a)))},a.userLogout=function(){a.setState({logout:!0},function(){return R.logout()})},a.state={formUser:{name:a.props.user.name,email:a.props.user.email,password:"",verifyPassword:"",attachment:""},formUserError:{},formHome:{name:"",attachment:"",homeCode:""},formRoom:{name:"",home:a.props.user.home},formInfo:{title:"",description:"",home:a.props.user.home},formHomeError:{},formRoomError:{},formInfoError:{},rooms:[],info:[],users:[],logout:!1,toLogin:!1},a.handleSubmitUser=a.handleSubmitUser.bind(Object(d.a)(Object(d.a)(a))),a.handleSubmitHome=a.handleSubmitHome.bind(Object(d.a)(Object(d.a)(a))),a.handleSubmitRoom=a.handleSubmitRoom.bind(Object(d.a)(Object(d.a)(a))),a.handleSubmitInfo=a.handleSubmitInfo.bind(Object(d.a)(Object(d.a)(a))),a.handleChangeImageUser=a.handleChangeImageUser.bind(Object(d.a)(Object(d.a)(a))),a.handleChangeImageHome=a.handleChangeImageHome.bind(Object(d.a)(Object(d.a)(a))),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"handleSubmitUser",value:function(){var e=this.state.formUser,t=this.props.user.id;R.edit(e,t).then(function(e){return console.log("entra en el SubmitUser")},function(e){return console.error(e)})}},{key:"handleSubmitHome",value:function(){var e=this.state.formHome,t=this.props.user.home;U.edit(e,t).then(function(e){return console.log("entra en el SubmitHome")},function(e){return console.error(e)})}},{key:"handleSubmitRoom",value:function(){var e=this,t=this.state.formRoom;ne.create(t).then(function(t){return e.setState({rooms:[].concat(Object(Q.a)(e.state.rooms),[t])})},function(e){return console.error(e)})}},{key:"handleSubmitInfo",value:function(){var e=this,t=this.state.formInfo;this.form.check()?ke(t).then(function(t){return e.setState({info:[].concat(Object(Q.a)(e.state.info),[t])})},function(e){return console.error(e)}):console.error("Form Error")}},{key:"handleChangeImageUser",value:function(e){var t=this.state.formUser;t=Object(J.a)({},t,{attachment:e[0].blobFile}),this.setState({formUser:t})}},{key:"handleChangeImageHome",value:function(e){var t=this.state.formHome;console.log(e),t=Object(J.a)({},t,{attachment:e[0].blobFile}),this.setState({formHome:t})}},{key:"handleInfoRemove",value:function(e){var t=this.state.info.filter(function(t){return t._id!==e._id});this.setState({info:t},function(){return ye(e._id)})}},{key:"handleUserRemove",value:function(e){console.log(e);var t=this.state.users.filter(function(t){return t.id!==e.id});this.setState({users:t},function(){return R.remove(e.id)})}},{key:"handleRoomRemove",value:function(e){var t=this.state.rooms.filter(function(t){return t._id!==e._id});this.setState({rooms:t},function(){return ne.remove(e._id)})}},{key:"handleInputChange",value:function(e){this.setState({inputValue:e})}},{key:"render",value:function(){var e=this,t=this.state,a=t.formUser,n=t.formHome,o=t.formRoom,c=t.formInfo,l=t.info,i=t.rooms,s=t.users,m=t.logout;return this.state.toLogin?r.a.createElement(p.a,{to:"/login"}):m?r.a.createElement(p.a,{to:"/login"}):r.a.createElement("div",{className:"registerPage config"},r.a.createElement(W.Spring,{from:{opacity:0},to:{opacity:1}},function(e){return r.a.createElement("h1",{className:"mainh1"},"Config")}),r.a.createElement("div",null,r.a.createElement(E.FlexboxGrid,{justify:"center"},r.a.createElement(E.FlexboxGrid.Item,{colspan:20},r.a.createElement("h1",null,"Edit Profile"),r.a.createElement(E.Panel,{bordered:!0},r.a.createElement(E.Form,{ref:function(t){return e.form=t},onChange:function(t){e.setState({formUser:t})},onCheck:function(t){e.setState({formUserError:t})},formValue:a,model:Ie},r.a.createElement(E.FlexboxGrid,{justify:"center"},r.a.createElement(E.Uploader,{multiple:!1,autoUpload:!1,listType:"picture",onChange:this.handleChangeImageUser},r.a.createElement("button",null,r.a.createElement(E.Icon,{icon:"camera-retro",size:"lg"})))),r.a.createElement(Re,{name:"name",label:"Name"}),r.a.createElement(Re,{disabled:!0,name:"email",label:"Email"}),r.a.createElement(Re,{name:"password",label:"New Password",type:"password"}),r.a.createElement(Re,{name:"verifyPassword",label:"Verify password",type:"password"}),r.a.createElement(E.ButtonToolbar,null,r.a.createElement(E.Button,{appearance:"primary",onClick:this.handleSubmitUser,block:!0}," Submit "))),r.a.createElement(E.Divider,null),r.a.createElement(E.ButtonToolbar,null,r.a.createElement(E.Button,{color:"red",onClick:this.userLogout,block:!0}," Logout ")))))),r.a.createElement("div",null,r.a.createElement(E.FlexboxGrid,{justify:"center"},r.a.createElement(E.FlexboxGrid.Item,{colspan:20},r.a.createElement("h1",null,"Edit Home"),r.a.createElement(E.Panel,{bordered:!0},r.a.createElement(E.Form,{ref:function(t){return e.form=t},onChange:function(t){e.setState({formHome:t})},onCheck:function(t){e.setState({formHomeError:t})},formValue:n,model:je},r.a.createElement(E.FlexboxGrid,{justify:"center"},r.a.createElement(E.Uploader,{multiple:!1,autoUpload:!1,listType:"picture",onChange:this.handleChangeImageHome},r.a.createElement("button",null,r.a.createElement(E.Icon,{icon:"camera-retro",size:"lg"})))),r.a.createElement(Re,{name:"name",label:"Home name"}),r.a.createElement(Re,{disabled:!0,name:"homeCode",label:"homeCode"}),r.a.createElement(E.ButtonToolbar,null,r.a.createElement(E.Button,{appearance:"primary",onClick:this.handleSubmitHome,block:!0}," Submit "))),r.a.createElement(E.Divider,null),r.a.createElement("h3",null,"Rooms"),r.a.createElement(E.TagGroup,{className:"itemMap"},i.length&&i.map(function(t){return r.a.createElement(E.Tag,{key:t._id,closable:!0,onClose:function(){return e.handleRoomRemove(t)}},t.name)})),r.a.createElement(E.Panel,{header:r.a.createElement("h3",null,"Add rooms"),bordered:!0,collapsible:!0},r.a.createElement(E.Form,{ref:function(t){return e.form=t},onChange:function(t){e.setState({formRoom:t})},onCheck:function(t){e.setState({formRoomError:t})},formValue:o,model:Oe},r.a.createElement(Re,{name:"name",label:"name",placeholder:"room name"}),r.a.createElement(E.ButtonToolbar,null,r.a.createElement(E.Button,{appearance:"primary",onClick:this.handleSubmitRoom,block:!0}," Add a room ")))),r.a.createElement(E.Divider,null),r.a.createElement("h3",null,"Info"),r.a.createElement(E.TagGroup,{className:"itemMap"},l.length&&l.map(function(t){return r.a.createElement(E.Tag,{key:t._id,closable:!0,onClose:function(){return e.handleInfoRemove(t)}},t.title)})),r.a.createElement(E.Panel,{header:r.a.createElement("h3",null,"Add info"),bordered:!0,collapsible:!0},r.a.createElement(E.Form,{ref:function(t){return e.form=t},onChange:function(t){e.setState({formInfo:t})},onCheck:function(t){e.setState({formInfoError:t})},formValue:c,model:Se},r.a.createElement(Re,{name:"title",label:"title",placeholder:"info title"}),r.a.createElement(Re,{name:"description",label:"description",placeholder:"info description"}),r.a.createElement(E.ButtonToolbar,null,r.a.createElement(E.Button,{appearance:"primary",onClick:this.handleSubmitInfo,block:!0}," Add info ")))),r.a.createElement("h3",null,"Users"),r.a.createElement(E.TagGroup,{className:"itemMap"},s.length&&s.map(function(t){return r.a.createElement(E.Tag,{key:t.id,closable:!0,onClose:function(){return e.handleUserRemove(t)}},t.name)})))))),r.a.createElement(V,null))}}]),t}(n.Component)),we=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/register",component:O}),r.a.createElement(p.b,{exact:!0,path:"/login",component:M}),r.a.createElement(p.b,{exact:!0,path:"/",component:ue}),r.a.createElement(p.b,{exact:!0,path:"/:id/details",component:Ee}),r.a.createElement(p.b,{exact:!0,path:"/:id/hashome",component:q}),r.a.createElement(p.b,{exact:!0,path:"/:id/summary",component:ge}),r.a.createElement(p.b,{exact:!0,path:"/config",component:Te})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(l.a,{basename:"/Homing-Web"},r.a.createElement(F,null,r.a.createElement(we,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[408,1,2]]]);
//# sourceMappingURL=main.e9aa4863.chunk.js.map